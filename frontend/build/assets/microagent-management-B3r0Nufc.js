const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-ard5pZS6.js","assets/features-animation-Cg95Fwuk.js","assets/index-B3bthoHG.js","assets/chunk-ZYFC6VSF-CV8XXl5-.js","assets/utils-ortCDxR2.js"])))=>i.map(i=>d[i]);
import{r as x,j as r,R as Ee,w as In}from"./chunk-ZYFC6VSF-CV8XXl5-.js";import{q as Fe}from"./query-client-config-DQ-eWpMF.js";import{O as je}from"./open-hands-C0cV1FsE.js";import{u as G,a as ge}from"./react-redux-9hwipSEO.js";import{I as T}from"./declaration-CSyN0VgG.js";import{D as Ve}from"./constants-BXZVt91V.js";import{u as U}from"./useTranslation-mdJfIcDH.js";import{i as Ts,j as mt,k as Es,l as Ms,m as Dn,n as On,o as _n,p as Ns}from"./store-Bya9Reqe.js";import{c as ie,s as Ln,b as $n,g as ze,d as kn,e as As,f as Bn,h as Vn}from"./utils-ortCDxR2.js";import{u as pt}from"./useQuery-BQp87qj0.js";import{i as Rs,j as Kn,f as gt,k as qe,m as Fn,n as Gn,o as Un,p as Wn,q as Ss,r as Hn,s as zn,t as js,v as qn,w as Yn,x as Ye}from"./chunk-S6H5EOGR-Dp_maNhv.js";import{i as Ge,f as Xn,g as Qn,h as Zn}from"./index-JbHoVJgB.js";import{S as Jn}from"./plus-C_FZCxTO.js";import{T as ws,u as ei}from"./tooltip-button-DfhK9hNc.js";import{_ as ti}from"./preload-helper-BXl3LOEh.js";import{J as si,K as ni,M as rt,N as Is,O as Oe,P as Ue,Q as Ds,R as ii,S as ai,U as oi,V as ri,W as Xe,X as Et,Y as li,Z as ci,_ as di,a0 as ui,C as xt,D as lt,a1 as Ce,g as Os,e as Re,c as _s,a2 as hi,u as bt,F as we,d as Ls,r as $s,v as pe,l as me,t as j,a3 as Mt,H as ks,x as Ie,L as ct,z as dt,T as Nt,B as fi,a4 as mi,a5 as pi,f as gi,a6 as xi,m as bi}from"./index-B3bthoHG.js";import{i as le,f as X,a as yt,b as yi,m as W,c as Z,e as vi,g as Bs,p as Pi,h as Se,s as Ci,j as Ti,k as ut,l as F,n as Ei,o as Mi,q as Ni,r as At,t as Vs,F as Ks,u as ye,v as Rt,w as Fs,x as Gs,y as Us,z as Ws,A as Hs,B as Ai,C as St,S as Ri,D as Si,E as Qe,G as xe,H as _e,I as Le,J as jt,K as ji,L as wi,M as Ii,N as be,O as Di,d as Oi,P as _i}from"./features-animation-Cg95Fwuk.js";import{m as Li}from"./chunk-BOOVDPB6-CfJM8ukF.js";import{u as $i}from"./use-config-Cu-DTsjW.js";import{u as zs}from"./use-user-providers-DUJUMBCv.js";import{B as se}from"./brand-button-BwmgTwuO.js";import{r as ki,a as Bi,b as Vi,o as Ki,u as Fi,c as Gi,S as qs,B as Ui,d as Wi,C as Hi,E as zi}from"./event-handler-By1wp-3f.js";import{M as qi,p as Yi}from"./paragraph-mU9vbf-S.js";import{M as Ys}from"./modal-backdrop-eyYAchCQ.js";import{M as Xs}from"./modal-body-VF1Y6uTQ.js";import{u as Qs}from"./use-repository-branches-CLasgkvZ.js";import{S as Xi}from"./settings-dropdown-input-mr_tSlFW.js";import{A as Qi}from"./agent-state-CFaY3go2.js";import{a as ht,b as Zs,c as Zi}from"./ws-client-provider-CT2hZp7M.js";import"./i18next-CO45VQzB.js";import"./retrieve-axios-error-message-CYr77e_f.js";import"./custom-toast-handlers-BD_JVnrP.js";import"./index-DuWOChOE.js";import"./open-hands-axios-BHmDa7Dt.js";import"./mutation-CyON2C4n.js";import"./infiniteQueryBehavior-zDEvrNUR.js";import"./i18nInstance-DBIXdvxg.js";import"./browser-slice-DabBaamq.js";import"./index-DnvoE-Td.js";import"./iconBase-C5ZFHboU.js";import"./use-settings-Ds8Eg1n4.js";import"./module-D8R257Cm.js";import"./use-create-conversation-CM8i2VYa.js";import"./index-CA16_LBd.js";import"./toConsumableArray-CNR5owoB.js";import"./optional-tag-D6E6pm99.js";import"./use-active-conversation-D3E_vPiK.js";import"./use-conversation-id-Bw4dVlXX.js";import"./use-optimistic-user-message-wThenjxc.js";const Ji=new Set(["opacity","clipPath","filter","transform"]);function ea(e){return e==="x"||e==="y"?le[e]?null:(le[e]=!0,()=>{le[e]=!1}):le.x||le.y?null:(le.x=le.y=!0,()=>{le.x=le.y=!1})}function Js(e){return si(e)&&"ownerSVGElement"in e}function ta(e){return Js(e)&&e.tagName==="svg"}const sa=x.createContext(null);function na(){const e=x.useRef(!1);return ni(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ia(){const e=na(),[t,s]=x.useState(0),n=x.useCallback(()=>{e.current&&s(t+1)},[t]);return[x.useCallback(()=>X.postRender(n),[n]),t]}const aa=e=>!e.isLayoutDirty&&e.willUpdate(!1);function wt(){const e=new Set,t=new WeakMap,s=()=>e.forEach(aa);return{add:n=>{e.add(n),t.set(n,n.addEventListener("willUpdate",s))},remove:n=>{e.delete(n);const a=t.get(n);a&&(a(),t.delete(n)),s()},dirty:s}}const en=e=>e===!0,oa=e=>en(e===!0)||e==="id",tn=({children:e,id:t,inherit:s=!0})=>{const n=x.useContext(rt),a=x.useContext(sa),[c,i]=ia(),o=x.useRef(null),l=n.id||a;o.current===null&&(oa(s)&&l&&(t=t?l+"-"+t:l),o.current={id:t,group:en(s)&&n.group||wt()});const d=x.useMemo(()=>({...o.current,forceRender:c}),[i]);return r.jsx(rt.Provider,{value:d,children:e})};function Me(e,t,s,n){return yt(e,t,yi(s),n)}const sn=1e-4,ra=1-sn,la=1+sn,nn=.01,ca=0-nn,da=0+nn;function q(e){return e.max-e.min}function ua(e,t,s){return Math.abs(e-t)<=s}function It(e,t,s,n=.5){e.origin=n,e.originPoint=W(t.min,t.max,e.origin),e.scale=q(s)/q(t),e.translate=W(s.min,s.max,e.origin)-e.originPoint,(e.scale>=ra&&e.scale<=la||isNaN(e.scale))&&(e.scale=1),(e.translate>=ca&&e.translate<=da||isNaN(e.translate))&&(e.translate=0)}function Ne(e,t,s,n){It(e.x,t.x,s.x,n?n.originX:void 0),It(e.y,t.y,s.y,n?n.originY:void 0)}function Dt(e,t,s){e.min=s.min+t.min,e.max=e.min+q(t)}function ha(e,t,s){Dt(e.x,t.x,s.x),Dt(e.y,t.y,s.y)}function Ot(e,t,s){e.min=t.min-s.min,e.max=e.min+q(t)}function Ae(e,t,s){Ot(e.x,t.x,s.x),Ot(e.y,t.y,s.y)}function te(e){return[e("x"),e("y")]}const an=({current:e})=>e?e.ownerDocument.defaultView:null,_t=(e,t)=>Math.abs(e-t);function fa(e,t){const s=_t(e.x,t.x),n=_t(e.y,t.y);return Math.sqrt(s**2+n**2)}class on{constructor(t,s,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:c=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Je(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,m=fa(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!m)return;const{point:y}=f,{timestamp:P}=Z;this.history.push({...y,timestamp:P});const{onStart:g,onMove:p}=this.handlers;b||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,b)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ze(b,this.transformPagePoint),X.update(this.updatePoint,!0)},this.handlePointerUp=(f,b)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Je(f.type==="pointercancel"?this.lastMoveEventInfo:Ze(b,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,g),y&&y(f,g)},!vi(t))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;const o=Bs(t),l=Ze(o,this.transformPagePoint),{point:d}=l,{timestamp:u}=Z;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=s;h&&h(t,Je(l,this.history)),this.removeListeners=Pi(Me(this.contextWindow,"pointermove",this.handlePointerMove),Me(this.contextWindow,"pointerup",this.handlePointerUp),Me(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Se(this.updatePoint)}}function Ze(e,t){return t?{point:t(e.point)}:e}function Lt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Je({point:e},t){return{point:e,delta:Lt(e,rn(t)),offset:Lt(e,ma(t)),velocity:pa(t,.1)}}function ma(e){return e[0]}function rn(e){return e[e.length-1]}function pa(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const a=rn(e);for(;s>=0&&(n=e[s],!(a.timestamp-n.timestamp>Ci(t)));)s--;if(!n)return{x:0,y:0};const c=Ti(a.timestamp-n.timestamp);if(c===0)return{x:0,y:0};const i={x:(a.x-n.x)/c,y:(a.y-n.y)/c};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function ga(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?W(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?W(s,e,n.max):Math.min(e,s)),e}function $t(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function xa(e,{top:t,left:s,bottom:n,right:a}){return{x:$t(e.x,s,a),y:$t(e.y,t,n)}}function kt(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function ba(e,t){return{x:kt(e.x,t.x),y:kt(e.y,t.y)}}function ya(e,t){let s=.5;const n=q(e),a=q(t);return a>n?s=ut(t.min,t.max-n,e.min):n>a&&(s=ut(e.min,e.max-a,t.min)),Is(0,1,s)}function va(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const ft=.35;function Pa(e=ft){return e===!1?e=0:e===!0&&(e=ft),{x:Bt(e,"left","right"),y:Bt(e,"top","bottom")}}function Bt(e,t,s){return{min:Vt(e,t),max:Vt(e,s)}}function Vt(e,t){return typeof e=="number"?e:e[t]||0}const Ca=new WeakMap;class Ta{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=F(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const c=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Bs(h).point)},i=(h,f)=>{const{drag:b,dragPropagation:m,onDragStart:y}=this.getProps();if(b&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ea(b),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),te(g=>{let p=this.getAxisMotionValue(g).get()||0;if(Ue.test(p)){const{projection:v}=this.visualElement;if(v&&v.layout){const C=v.layout.layoutBox[g];C&&(p=q(C)*(parseFloat(p)/100))}}this.originPoint[g]=p}),y&&X.postRender(()=>y(h,f)),At(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},o=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:b,dragDirectionLock:m,onDirectionLock:y,onDrag:P}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:g}=f;if(m&&this.currentDirection===null){this.currentDirection=Ea(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),P&&P(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>te(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new on(t,{onSessionStart:c,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:an(this.visualElement)})}stop(t,s){const n=t||this.latestPointerEvent,a=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!a||!n)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&X.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:a}=this.getProps();if(!n||!$e(t,a,this.currentDirection))return;const c=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=ga(i,this.constraints[t],this.elastic[t])),c.set(i)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Oe(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=xa(n.layoutBox,t):this.constraints=!1,this.elastic=Pa(s),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&te(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=va(n.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Oe(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=Ei(n,a.root,this.visualElement.getTransformPagePoint());let i=ba(a.layout.layoutBox,c);if(s){const o=s(Mi(i));this.hasMutatedConstraints=!!o,o&&(i=Ni(o))}return i}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:c,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},d=te(u=>{if(!$e(u,s,this.currentDirection))return;let h=l&&l[u]||{};i&&(h={min:0,max:0});const f=a?200:1e6,b=a?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:f,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...c,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(d).then(o)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return At(this.visualElement,t),n.start(Vs(t,n,0,s,this.visualElement,!1))}stopAnimation(){te(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){te(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){te(s=>{const{drag:n}=this.getProps();if(!$e(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:o}=a.layout.layoutBox[s];c.set(t[s]-W(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Oe(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};te(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const l=o.get();a[i]=ya({min:l,max:l},this.constraints[i])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),te(i=>{if(!$e(i,t,null))return;const o=this.getAxisMotionValue(i),{min:l,max:d}=this.constraints[i];o.set(W(l,d,a[i]))})}addListeners(){if(!this.visualElement.current)return;Ca.set(this.visualElement,this);const t=this.visualElement.current,s=Me(t,"pointerdown",l=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Oe(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),X.read(n);const i=yt(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(te(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),s(),c(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:i=ft,dragMomentum:o=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:c,dragElastic:i,dragMomentum:o}}}function $e(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Ea(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Ma extends Ks{constructor(t){super(t),this.removeGroupControls=ye,this.removeListeners=ye,this.controls=new Ta(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ye}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kt=e=>(t,s)=>{e&&X.postRender(()=>e(t,s))};class Na extends Ks{constructor(){super(...arguments),this.removePointerDownListener=ye}onPointerDown(t){this.session=new on(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:an(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Kt(t),onStart:Kt(s),onMove:n,onEnd:(c,i)=>{delete this.session,a&&X.postRender(()=>a(c,i))}}}mount(){this.removePointerDownListener=Me(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ke={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ft(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Te={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ds.test(e))e=parseFloat(e);else return e;const s=Ft(e,t.target.x),n=Ft(e,t.target.y);return`${s}% ${n}%`}},Aa={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,a=Rt.parse(e);if(a.length>5)return n;const c=Rt.createTransformer(e),i=typeof a[0]!="number"?1:0,o=s.x.scale*t.x,l=s.y.scale*t.y;a[0+i]/=o,a[1+i]/=l;const d=W(o,l,.5);return typeof a[2+i]=="number"&&(a[2+i]/=d),typeof a[3+i]=="number"&&(a[3+i]/=d),c(a)}};let et=!1;class Ra extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:c}=t;oi(Sa),c&&(s.group&&s.group.add(c),n&&n.register&&a&&n.register(c),et&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Ke.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:a,isPresent:c}=this.props,{projection:i}=n;return i&&(i.isPresent=c,et=!0,a||t.layoutDependency!==s||s===void 0||t.isPresent!==c?i.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?i.promote():i.relegate()||X.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Fs.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=t;et=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ln(e){const[t,s]=ii(),n=x.useContext(rt);return r.jsx(Ra,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(ai),isPresent:t,safeToRemove:s})}const Sa={borderRadius:{...Te,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomLeftRadius:Te,borderBottomRightRadius:Te,boxShadow:Aa};function ja(e,t,s){const n=ri(e)?e:Gs(e);return n.start(Vs("",n,t,s)),n.animation}const wa=(e,t)=>e.depth-t.depth;class Ia{constructor(){this.children=[],this.isDirty=!1}add(t){Us(this.children,t),this.isDirty=!0}remove(t){Ws(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wa),this.isDirty=!1,this.children.forEach(t)}}function Da(e,t){const s=Hs.now(),n=({timestamp:a})=>{const c=a-s;c>=t&&(Se(n),e(c-t))};return X.setup(n,!0),()=>Se(n)}const cn=["TopLeft","TopRight","BottomLeft","BottomRight"],Oa=cn.length,Gt=e=>typeof e=="string"?parseFloat(e):e,Ut=e=>typeof e=="number"||Ds.test(e);function _a(e,t,s,n,a,c){a?(e.opacity=W(0,s.opacity??1,La(n)),e.opacityExit=W(t.opacity??1,0,$a(n))):c&&(e.opacity=W(t.opacity??1,s.opacity??1,n));for(let i=0;i<Oa;i++){const o=`border${cn[i]}Radius`;let l=Wt(t,o),d=Wt(s,o);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||Ut(l)===Ut(d)?(e[o]=Math.max(W(Gt(l),Gt(d),n),0),(Ue.test(d)||Ue.test(l))&&(e[o]+="%")):e[o]=d}(t.rotate||s.rotate)&&(e.rotate=W(t.rotate||0,s.rotate||0,n))}function Wt(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const La=dn(0,.5,Ai),$a=dn(.5,.95,ye);function dn(e,t,s){return n=>n<e?0:n>t?1:s(ut(e,t,n))}function Ht(e,t){e.min=t.min,e.max=t.max}function ee(e,t){Ht(e.x,t.x),Ht(e.y,t.y)}function zt(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qt(e,t,s,n,a){return e-=t,e=St(e,1/s,n),a!==void 0&&(e=St(e,1/a,n)),e}function ka(e,t=0,s=1,n=.5,a,c=e,i=e){if(Ue.test(t)&&(t=parseFloat(t),t=W(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=W(c.min,c.max,n);e===c&&(o-=t),e.min=qt(e.min,t,s,o,a),e.max=qt(e.max,t,s,o,a)}function Yt(e,t,[s,n,a],c,i){ka(e,t[s],t[n],t[a],t.scale,c,i)}const Ba=["x","scaleX","originX"],Va=["y","scaleY","originY"];function Xt(e,t,s,n){Yt(e.x,t,Ba,s?s.x:void 0,n?n.x:void 0),Yt(e.y,t,Va,s?s.y:void 0,n?n.y:void 0)}function Qt(e){return e.translate===0&&e.scale===1}function un(e){return Qt(e.x)&&Qt(e.y)}function Zt(e,t){return e.min===t.min&&e.max===t.max}function Ka(e,t){return Zt(e.x,t.x)&&Zt(e.y,t.y)}function Jt(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function hn(e,t){return Jt(e.x,t.x)&&Jt(e.y,t.y)}function es(e){return q(e.x)/q(e.y)}function ts(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Fa{constructor(){this.members=[]}add(t){Us(this.members,t),t.scheduleRender()}remove(t){if(Ws(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){n=c;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ga(e,t,s){let n="";const a=e.x.translate/t.x,c=e.y.translate/t.y,i=s?.z||0;if((a||c||i)&&(n=`translate3d(${a}px, ${c}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:b,skewY:m}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),b&&(n+=`skewX(${b}deg) `),m&&(n+=`skewY(${m}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const tt=["","X","Y","Z"],Ua=1e3;let Wa=0;function st(e,t,s,n){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function fn(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Di(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",X,!(a||c))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&fn(n)}function mn({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},o=t?.()){this.id=Wa++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qa),this.nodes.forEach(Za),this.nodes.forEach(Ja),this.nodes.forEach(Ya)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ia)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Ri),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const l=this.eventHandlers.get(i);l&&l.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=Js(i)&&!ta(i),this.instance=i;const{layoutId:o,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;X.read(()=>{h=window.innerWidth}),e(i,()=>{const b=window.innerWidth;b!==h&&(h=b,this.root.updateBlockedByResize=!0,u&&u(),u=Da(f,250),Ke.hasAnimatedSinceResize&&(Ke.hasAnimatedSinceResize=!1,this.nodes.forEach(is)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||io,{onLayoutAnimationStart:y,onLayoutAnimationComplete:P}=d.getProps(),g=!this.targetLayout||!hn(this.targetLayout,b),p=!h&&f;if(this.options.layoutRoot||this.resumeFrom||p||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...Si(m,"layout"),onPlay:y,onComplete:P};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,p)}else h||is(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Se(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eo),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fn(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ss);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ns);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Qa),this.nodes.forEach(Ha),this.nodes.forEach(za)):this.nodes.forEach(ns),this.clearAllSnapshots();const o=Hs.now();Z.delta=Is(0,1e3/60,o-Z.timestamp),Z.timestamp=o,Z.isProcessing=!0,Qe.update.process(Z),Qe.preRender.process(Z),Qe.render.process(Z),Z.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xa),this.sharedNodes.forEach(to)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,X.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){X.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!q(this.snapshot.measuredBox.x)&&!q(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=F(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!un(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&this.instance&&(o||xe(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return i&&(l=this.removeTransform(l)),ao(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return F();const o=i.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oo))){const{scroll:d}=this.root;d&&(_e(o.x,d.offset.x),_e(o.y,d.offset.y))}return o}removeElementScroll(i){const o=F();if(ee(o,i),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&ee(o,i),_e(o.x,u.offset.x),_e(o.y,u.offset.y))}return o}applyTransform(i,o=!1){const l=F();ee(l,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Le(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),xe(u.latestValues)&&Le(l,u.latestValues)}return xe(this.latestValues)&&Le(l,this.latestValues),l}removeTransform(i){const o=F();ee(o,i);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!xe(d.latestValues))continue;jt(d.latestValues)&&d.updateSnapshot();const u=F(),h=d.measurePageBox();ee(u,h),Xt(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return xe(this.latestValues)&&Xt(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Z.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Z.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=F(),this.relativeTargetOrigin=F(),Ae(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ee(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=F(),this.targetWithTransforms=F()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ha(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ee(this.target,this.layout.layoutBox),ji(this.target,this.targetDelta)):ee(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=F(),this.relativeTargetOrigin=F(),Ae(this.relativeTargetOrigin,this.target,f.target),ee(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jt(this.parent.latestValues)||wi(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const i=this.getLead(),o=!!this.resumingFrom||this!==i;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Z.timestamp&&(l=!1),l)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ee(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;Ii(this.layoutCorrected,this.treeScale,this.path,o),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=F());const{target:b}=i;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zt(this.prevProjectionDelta.x,this.projectionDelta.x),zt(this.prevProjectionDelta.y,this.projectionDelta.y)),Ne(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!ts(this.projectionDelta.x,this.prevProjectionDelta.x)||!ts(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.visualElement?.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=be(),this.projectionDelta=be(),this.projectionDeltaWithTransform=be()}setAnimationOrigin(i,o=!1){const l=this.snapshot,d=l?l.latestValues:{},u={...this.latestValues},h=be();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=F(),b=l?l.source:void 0,m=this.layout?this.layout.source:void 0,y=b!==m,P=this.getStack(),g=!P||P.members.length<=1,p=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(no));this.animationProgress=0;let v;this.mixTargetDelta=C=>{const E=C/1e3;as(h.x,i.x,E),as(h.y,i.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ae(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),so(this.relativeTarget,this.relativeTargetOrigin,f,E),v&&Ka(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=F()),ee(v,this.relativeTarget)),y&&(this.animationValues=u,_a(u,d,this.latestValues,E,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Se(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=X.update(()=>{Ke.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gs(0)),this.currentAnimation=ja(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ua),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:l,layout:d,latestValues:u}=i;if(!(!o||!l||!d)){if(this!==i&&this.layout&&d&&pn(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||F();const h=q(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+h;const f=q(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+f}ee(o,l),Le(o,u),Ne(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Fa),this.sharedNodes.get(i).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){const{layoutId:i}=this.options;return i?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:i}=this.options;return i?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const d={};l.z&&st("z",i,d,this.animationValues);for(let u=0;u<tt.length;u++)st(`rotate${tt[u]}`,i,d,this.animationValues),st(`skew${tt[u]}`,i,d,this.animationValues);i.render();for(const u in d)i.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Xe(o?.pointerEvents)||"",i.transform=l?l(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Xe(o?.pointerEvents)||""),this.hasProjected&&!xe(this.latestValues)&&(i.transform=l?l({},""):"none",this.hasProjected=!1);return}i.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=Ga(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),i.transform=h;const{x:f,y:b}=this.projectionDelta;i.transformOrigin=`${f.origin*100}% ${b.origin*100}% 0`,d.animationValues?i.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in Et){if(u[m]===void 0)continue;const{correct:y,applyTo:P,isCSSVariable:g}=Et[m],p=h==="none"?u[m]:y(u[m],d);if(P){const v=P.length;for(let C=0;C<v;C++)i[P[C]]=p}else g?this.options.visualElement.renderState.vars[m]=p:i[m]=p}this.options.layoutId&&(i.pointerEvents=d===this?Xe(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>i.currentAnimation?.stop()),this.root.nodes.forEach(ss),this.root.sharedNodes.clear()}}}function Ha(e){e.updateLayout()}function za(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:n}=e.layout,{animationType:a}=e.options,c=t.source!==e.layout.source;a==="size"?te(u=>{const h=c?t.measuredBox[u]:t.layoutBox[u],f=q(h);h.min=s[u].min,h.max=h.min+f}):pn(a,t.layoutBox,s)&&te(u=>{const h=c?t.measuredBox[u]:t.layoutBox[u],f=q(s[u]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+f)});const i=be();Ne(i,s,t.layoutBox);const o=be();c?Ne(o,e.applyTransform(n,!0),t.measuredBox):Ne(o,s,t.layoutBox);const l=!un(i);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:f}=u;if(h&&f){const b=F();Ae(b,t.layoutBox,h.layoutBox);const m=F();Ae(m,s,f.layoutBox),hn(b,m)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=b,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function qa(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ya(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xa(e){e.clearSnapshot()}function ss(e){e.clearMeasurements()}function ns(e){e.isLayoutDirty=!1}function Qa(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function is(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Za(e){e.resolveTargetDelta()}function Ja(e){e.calcProjection()}function eo(e){e.resetSkewAndRotation()}function to(e){e.removeLeadSnapshot()}function as(e,t,s){e.translate=W(t.translate,0,s),e.scale=W(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function os(e,t,s,n){e.min=W(t.min,s.min,n),e.max=W(t.max,s.max,n)}function so(e,t,s,n){os(e.x,t.x,s.x,n),os(e.y,t.y,s.y,n)}function no(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const io={duration:.45,ease:[.4,0,.1,1]},rs=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ls=rs("applewebkit/")&&!rs("chrome/")?Math.round:ye;function cs(e){e.min=ls(e.min),e.max=ls(e.max)}function ao(e){cs(e.x),cs(e.y)}function pn(e,t,s){return e==="position"||e==="preserve-aspect"&&!ua(es(t),es(s),.2)}function oo(e){return e!==e.root&&e.scroll?.wasRoot}const ro=mn({attachResizeListener:(e,t)=>yt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nt={current:void 0},gn=mn({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nt.current){const e=new ro({});e.mount(window),e.setOptions({layoutScroll:!0}),nt.current=e}return nt.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lo={pan:{Feature:Na},drag:{Feature:Ma,ProjectionNode:gn,MeasureLayout:ln}},co={layout:{ProjectionNode:gn,MeasureLayout:ln}},uo={...Oi,...lo,...co};class ho extends _i{constructor(){super(...arguments),this.isEnabled=!1}add(t){(li.has(t)||Ji.has(t))&&(this.isEnabled=!0,this.update())}update(){this.set(this.isEnabled?"transform":"auto")}}function fo(){return ci(()=>new ho("auto"))}function mo(e,t){let s=t?.isDisabled,[n,a]=x.useState(!1);return di(()=>{if(e?.current&&!s){let c=()=>{if(e.current){let o=ui(e.current,{tabbable:!0});a(!!o.nextNode())}};c();let i=new MutationObserver(c);return i.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{i.disconnect()}}}),s?!1:n}var ds=xt({slots:{base:"inline-flex",tabList:["flex","p-1","h-fit","gap-2","items-center","flex-nowrap","overflow-x-scroll","scrollbar-hide","bg-default-100"],tab:["z-0","w-full","px-3","py-1","flex","group","relative","justify-center","items-center","outline-solid outline-transparent","cursor-pointer","transition-opacity","tap-highlight-transparent","data-[disabled=true]:cursor-not-allowed","data-[disabled=true]:opacity-30","data-[hover-unselected=true]:opacity-disabled",...lt],tabContent:["relative","z-10","text-inherit","whitespace-nowrap","transition-colors","text-default-500","group-data-[selected=true]:text-foreground"],cursor:["absolute","z-0","bg-white"],panel:["py-3","px-1","outline-solid outline-transparent","data-[inert=true]:hidden",...lt],tabWrapper:[]},variants:{variant:{solid:{cursor:"inset-0"},light:{tabList:"bg-transparent dark:bg-transparent",cursor:"inset-0"},underlined:{tabList:"bg-transparent dark:bg-transparent",cursor:"h-[2px] w-[80%] bottom-0 shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]"},bordered:{tabList:"bg-transparent dark:bg-transparent border-medium border-default-200 shadow-xs",cursor:"inset-0"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{tabList:"rounded-medium",tab:"h-7 text-tiny rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"h-8 text-small rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"h-9 text-medium rounded-medium",cursor:"rounded-medium"}},radius:{none:{tabList:"rounded-none",tab:"rounded-none",cursor:"rounded-none"},sm:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"rounded-medium",cursor:"rounded-medium"},full:{tabList:"rounded-full",tab:"rounded-full",cursor:"rounded-full"}},fullWidth:{true:{base:"w-full",tabList:"w-full"}},isDisabled:{true:{tabList:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{tab:"transition-none",tabContent:"transition-none"}},placement:{top:{},start:{tabList:"flex-col",panel:"py-0 px-3",tabWrapper:"flex"},end:{tabList:"flex-col",panel:"py-0 px-3",tabWrapper:"flex flex-row-reverse"},bottom:{tabWrapper:"flex flex-col-reverse"}}},defaultVariants:{color:"default",variant:"solid",size:"md",fullWidth:!1,isDisabled:!1},compoundVariants:[{variant:["solid","bordered","light"],color:"default",class:{cursor:["bg-background","dark:bg-default","shadow-small"],tabContent:"group-data-[selected=true]:text-default-foreground"}},{variant:["solid","bordered","light"],color:"primary",class:{cursor:Ce.solid.primary,tabContent:"group-data-[selected=true]:text-primary-foreground"}},{variant:["solid","bordered","light"],color:"secondary",class:{cursor:Ce.solid.secondary,tabContent:"group-data-[selected=true]:text-secondary-foreground"}},{variant:["solid","bordered","light"],color:"success",class:{cursor:Ce.solid.success,tabContent:"group-data-[selected=true]:text-success-foreground"}},{variant:["solid","bordered","light"],color:"warning",class:{cursor:Ce.solid.warning,tabContent:"group-data-[selected=true]:text-warning-foreground"}},{variant:["solid","bordered","light"],color:"danger",class:{cursor:Ce.solid.danger,tabContent:"group-data-[selected=true]:text-danger-foreground"}},{variant:"underlined",color:"default",class:{cursor:"bg-foreground",tabContent:"group-data-[selected=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{cursor:"bg-primary",tabContent:"group-data-[selected=true]:text-primary"}},{variant:"underlined",color:"secondary",class:{cursor:"bg-secondary",tabContent:"group-data-[selected=true]:text-secondary"}},{variant:"underlined",color:"success",class:{cursor:"bg-success",tabContent:"group-data-[selected=true]:text-success"}},{variant:"underlined",color:"warning",class:{cursor:"bg-warning",tabContent:"group-data-[selected=true]:text-warning"}},{variant:"underlined",color:"danger",class:{cursor:"bg-danger",tabContent:"group-data-[selected=true]:text-danger"}},{disableAnimation:!0,variant:"underlined",class:{tab:["after:content-['']","after:absolute","after:bottom-0","after:h-[2px]","after:w-[80%]","after:opacity-0","after:shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","data-[selected=true]:after:opacity-100"]}},{disableAnimation:!0,color:"default",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-default data-[selected=true]:text-default-foreground"}},{disableAnimation:!0,color:"primary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-primary data-[selected=true]:text-primary-foreground"}},{disableAnimation:!0,color:"secondary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-secondary data-[selected=true]:text-secondary-foreground"}},{disableAnimation:!0,color:"success",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-success data-[selected=true]:text-success-foreground"}},{disableAnimation:!0,color:"warning",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-warning data-[selected=true]:text-warning-foreground"}},{disableAnimation:!0,color:"danger",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-danger data-[selected=true]:text-danger-foreground"}},{disableAnimation:!0,color:"default",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-foreground"}},{disableAnimation:!0,color:"primary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-primary"}},{disableAnimation:!0,color:"secondary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-secondary"}},{disableAnimation:!0,color:"success",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-success"}},{disableAnimation:!0,color:"warning",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-warning"}},{disableAnimation:!0,color:"danger",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-danger"}}],compoundSlots:[{variant:"underlined",slots:["tab","tabList","cursor"],class:["rounded-none"]}]}),po=xt({base:"px-2",variants:{variant:{light:"",shadow:"px-4 shadow-medium rounded-medium bg-content1",bordered:"px-4 border-medium border-divider rounded-medium",splitted:"flex flex-col gap-2"},fullWidth:{true:"w-full"}},defaultVariants:{variant:"light",fullWidth:!0}}),go=xt({slots:{base:"",heading:"",trigger:["flex py-4 w-full h-full gap-3 outline-solid outline-transparent items-center tap-highlight-transparent",...lt],startContent:"shrink-0",indicator:"text-default-400",titleWrapper:"flex-1 flex flex-col text-start",title:"text-foreground text-medium",subtitle:"text-small text-foreground-500 font-normal",content:"py-2"},variants:{variant:{splitted:{base:"px-4 bg-content1 shadow-medium rounded-medium"}},isCompact:{true:{trigger:"py-2",title:"text-medium",subtitle:"text-small",indicator:"text-medium",content:"py-1"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},hideIndicator:{true:{indicator:"hidden"}},disableAnimation:{true:{content:"hidden data-[open=true]:block"},false:{indicator:"transition-transform",trigger:"transition-opacity"}},disableIndicatorAnimation:{true:{indicator:"transition-none"},false:{indicator:"rotate-0 data-[open=true]:-rotate-90 rtl:-rotate-180 rtl:data-[open=true]:-rotate-90"}}},defaultVariants:{size:"md",radius:"lg",isDisabled:!1,hideIndicator:!1,disableIndicatorAnimation:!1}});function xo(e,t){let{elementType:s="button",isDisabled:n,onPress:a,onPressStart:c,onPressEnd:i,onPressUp:o,onPressChange:l,preventFocusOnPress:d,allowFocusWhenDisabled:u,onClick:h,href:f,target:b,rel:m,type:y="button"}=e,P;s==="button"?P={type:y,disabled:n,form:e.form,formAction:e.formAction,formEncType:e.formEncType,formMethod:e.formMethod,formNoValidate:e.formNoValidate,formTarget:e.formTarget,name:e.name,value:e.value}:P={role:"button",href:s==="a"&&!n?f:void 0,target:s==="a"?b:void 0,type:s==="input"?y:void 0,disabled:s==="input"?n:void 0,"aria-disabled":!n||s==="input"?void 0:n,rel:s==="a"?m:void 0};let{pressProps:g,isPressed:p}=Rs({onPressStart:c,onPressEnd:i,onPressChange:l,onPress:a,onPressUp:o,onClick:h,isDisabled:n,preventFocusOnPress:d,ref:t}),{focusableProps:v}=Os(e,t);u&&(v.tabIndex=n?-1:v.tabIndex);let C=Re(v,g,_s(e,{labelable:!0}));return{isPressed:p,buttonProps:Re(P,C,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"]})}}function bo(e,t,s){let{item:n,isDisabled:a}=e,c=n.key,i=t.selectionManager,o=x.useId(),l=x.useId(),d=t.disabledKeys.has(n.key)||a;x.useEffect(()=>{c===t.focusedKey&&document.activeElement!==s.current&&s.current&&hi(s.current)},[s,c,t.focusedKey]);let u=x.useCallback(y=>{i.canSelectItem(c)&&(i.select(c,y),t.toggleKey(c))},[c,i]);const h=x.useCallback(y=>{i.selectionBehavior==="replace"&&i.extendSelection(y),i.setFocusedKey(y)},[i]),f=x.useCallback(y=>{const g={ArrowDown:()=>{const p=t.collection.getKeyAfter(c);if(p&&t.disabledKeys.has(p)){const v=t.collection.getKeyAfter(p);v&&h(v)}else p&&h(p)},ArrowUp:()=>{const p=t.collection.getKeyBefore(c);if(p&&t.disabledKeys.has(p)){const v=t.collection.getKeyBefore(p);v&&h(v)}else p&&h(p)},Home:()=>{const p=t.collection.getFirstKey();p&&h(p)},End:()=>{const p=t.collection.getLastKey();p&&h(p)}}[y.key];g&&(y.preventDefault(),i.canSelectItem(c)&&g(y))},[c,i]);let{buttonProps:b}=xo({id:o,elementType:"button",isDisabled:d,onKeyDown:f,onPress:u},s),m=t.selectionManager.isSelected(n.key);return{buttonProps:{...b,"aria-expanded":m,"aria-controls":m?l:void 0},regionProps:{id:l,role:"region","aria-labelledby":o}}}function yo(e,t,s){let{listProps:n}=Kn({...e,...t,allowsTabNavigation:!0,disallowSelectAll:!0,ref:s});return delete n.onKeyDownCapture,{accordionProps:{...n,tabIndex:void 0}}}function vo(e){var t,s;const n=bt(),{ref:a,as:c,item:i,onFocusChange:o}=e,{state:l,className:d,indicator:u,children:h,title:f,subtitle:b,startContent:m,motionProps:y,focusedKey:P,variant:g,isCompact:p=!1,classNames:v={},isDisabled:C=!1,hideIndicator:E=!1,disableAnimation:R=(t=n?.disableAnimation)!=null?t:!1,keepContentMounted:_=!1,disableIndicatorAnimation:S=!1,HeadingComponent:B=c||"h2",onPress:V,onPressStart:K,onPressEnd:k,onPressChange:w,onPressUp:D,onClick:M,...O}=e,N=c||"div",ne=typeof N=="string",J=we(a),I=l.disabledKeys.has(i.key)||C,L=l.selectionManager.isSelected(i.key),{buttonProps:ce,regionProps:ae}=bo({item:i,isDisabled:I},{...l,focusedKey:P},J),{onFocus:z,onBlur:de,...ue}=ce,{isFocused:he,isFocusVisible:fe,focusProps:$}=gt({autoFocus:(s=i.props)==null?void 0:s.autoFocus}),{isHovered:H,hoverProps:oe}=Ls({isDisabled:I}),{pressProps:re,isPressed:ve}=Rs({ref:J,isDisabled:I,onPress:V,onPressStart:K,onPressEnd:k,onPressChange:w,onPressUp:D}),Pe=x.useCallback(()=>{o?.(!0,i.key)},[]),De=x.useCallback(()=>{o?.(!1,i.key)},[]),A=x.useMemo(()=>({...v}),[$s(v)]),Y=x.useMemo(()=>go({isCompact:p,isDisabled:I,hideIndicator:E,disableAnimation:R,disableIndicatorAnimation:S,variant:g}),[p,I,E,R,S,g]),Pt=pe(A?.base,d),Mn=x.useCallback((Q={})=>({"data-open":j(L),"data-disabled":j(I),"data-slot":"base",className:Y.base({class:Pt}),...me(qe(O,{enabled:ne}),Q)}),[Pt,ne,O,Y,i.props,L,I]),Nn=(Q={})=>{var Ct,Tt;return{ref:J,"data-open":j(L),"data-focus":j(he),"data-focus-visible":j(fe),"data-disabled":j(I),"data-hover":j(H),"data-pressed":j(ve),"data-slot":"trigger",className:Y.trigger({class:A?.trigger}),onFocus:Mt(Pe,z,$.onFocus,O.onFocus,(Ct=i.props)==null?void 0:Ct.onFocus),onBlur:Mt(De,de,$.onBlur,O.onBlur,(Tt=i.props)==null?void 0:Tt.onBlur),...me(ue,oe,re,Q,{onClick:ks(re.onClick,M)})}},An=x.useCallback((Q={})=>({"data-open":j(L),"data-disabled":j(I),"data-slot":"content",className:Y.content({class:A?.content}),...me(ae,Q)}),[Y,A,ae,L,I,A?.content]),Rn=x.useCallback((Q={})=>({"aria-hidden":j(!0),"data-open":j(L),"data-disabled":j(I),"data-slot":"indicator",className:Y.indicator({class:A?.indicator}),...Q}),[Y,A?.indicator,L,I,A?.indicator]),Sn=x.useCallback((Q={})=>({"data-open":j(L),"data-disabled":j(I),"data-slot":"heading",className:Y.heading({class:A?.heading}),...Q}),[Y,A?.heading,L,I,A?.heading]),jn=x.useCallback((Q={})=>({"data-open":j(L),"data-disabled":j(I),"data-slot":"title",className:Y.title({class:A?.title}),...Q}),[Y,A?.title,L,I,A?.title]),wn=x.useCallback((Q={})=>({"data-open":j(L),"data-disabled":j(I),"data-slot":"subtitle",className:Y.subtitle({class:A?.subtitle}),...Q}),[Y,A,L,I,A?.subtitle]);return{Component:N,HeadingComponent:B,item:i,slots:Y,classNames:A,domRef:J,indicator:u,children:h,title:f,subtitle:b,startContent:m,isOpen:L,isDisabled:I,hideIndicator:E,keepContentMounted:_,disableAnimation:R,motionProps:y,getBaseProps:Mn,getHeadingProps:Sn,getButtonProps:Nn,getContentProps:An,getIndicatorProps:Rn,getTitleProps:jn,getSubtitleProps:wn}}var us=e=>r.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:r.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),hs=()=>ti(()=>import("./index-ard5pZS6.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>e.default),xn=Ie((e,t)=>{const{Component:s,HeadingComponent:n,classNames:a,slots:c,indicator:i,children:o,title:l,subtitle:d,startContent:u,isOpen:h,isDisabled:f,hideIndicator:b,keepContentMounted:m,disableAnimation:y,motionProps:P,getBaseProps:g,getHeadingProps:p,getButtonProps:v,getTitleProps:C,getSubtitleProps:E,getContentProps:R,getIndicatorProps:_}=vo({...e,ref:t}),S=fo(),V=x.useMemo(()=>typeof i=="function"?i({indicator:r.jsx(us,{}),isOpen:h,isDisabled:f}):i||null,[i,h,f])||r.jsx(us,{}),K=x.useMemo(()=>{if(y)return m?r.jsx("div",{...R(),children:o}):h&&r.jsx("div",{...R(),children:o});const k={exit:{...Nt.collapse.exit,overflowY:"hidden"},enter:{...Nt.collapse.enter,overflowY:"unset"}};return m?r.jsx(ct,{features:hs,children:r.jsx(dt.section,{animate:h?"enter":"exit",exit:"exit",initial:"exit",style:{willChange:S},variants:k,onKeyDown:w=>{w.stopPropagation()},...P,children:r.jsx("div",{...R(),children:o})},"accordion-content")}):r.jsx(fi,{initial:!1,children:h&&r.jsx(ct,{features:hs,children:r.jsx(dt.section,{animate:"enter",exit:"exit",initial:"exit",style:{willChange:S},variants:k,onKeyDown:w=>{w.stopPropagation()},...P,children:r.jsx("div",{...R(),children:o})},"accordion-content")})})},[h,y,m,o,P]);return r.jsxs(s,{...g(),children:[r.jsx(n,{...p(),children:r.jsxs("button",{...v(),children:[u&&r.jsx("div",{className:c.startContent({class:a?.startContent}),children:u}),r.jsxs("div",{className:c.titleWrapper({class:a?.titleWrapper}),children:[l&&r.jsx("span",{...C(),children:l}),d&&r.jsx("span",{...E(),children:d})]}),!b&&V&&r.jsx("span",{..._(),children:V})]})}),K]})});xn.displayName="HeroUI.AccordionItem";var Po=xn;class Co{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let s=this.keyMap.get(t);var n;return s&&(n=s.prevKey)!==null&&n!==void 0?n:null}getKeyAfter(t){let s=this.keyMap.get(t);var n;return s&&(n=s.nextKey)!==null&&n!==void 0?n:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){var s;return(s=this.keyMap.get(t))!==null&&s!==void 0?s:null}at(t){const s=[...this.getKeys()];return this.getItem(s[t])}constructor(t,{expandedKeys:s}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=t,s=s||new Set;let n=o=>{if(this.keyMap.set(o.key,o),o.childNodes&&(o.type==="section"||s.has(o.key)))for(let l of o.childNodes)n(l)};for(let o of t)n(o);let a=null,c=0;for(let[o,l]of this.keyMap)a?(a.nextKey=o,l.prevKey=a.key):(this.firstKey=o,l.prevKey=void 0),l.type==="item"&&(l.index=c++),a=l,a.nextKey=void 0;var i;this.lastKey=(i=a?.key)!==null&&i!==void 0?i:null}}function To(e){let{onExpandedChange:t}=e,[s,n]=mi(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,t),a=Fn(e),c=x.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),i=Gn(e,x.useCallback(l=>new Co(l,{expandedKeys:s}),[s]),null);return x.useEffect(()=>{a.focusedKey!=null&&!i.getItem(a.focusedKey)&&a.setFocusedKey(null)},[i,a.focusedKey]),{collection:i,expandedKeys:s,disabledKeys:c,toggleKey:l=>{n(Eo(s,l))},setExpandedKeys:n,selectionManager:new Un(i,a)}}function Eo(e,t){let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s}function Mo(e){var t;const s=bt(),{ref:n,as:a,className:c,items:i,variant:o,motionProps:l,expandedKeys:d,disabledKeys:u,selectedKeys:h,children:f,defaultExpandedKeys:b,selectionMode:m="single",selectionBehavior:y="toggle",keepContentMounted:P=!1,disallowEmptySelection:g,defaultSelectedKeys:p,onExpandedChange:v,onSelectionChange:C,dividerProps:E={},isCompact:R=!1,isDisabled:_=!1,showDivider:S=!0,hideIndicator:B=!1,disableAnimation:V=(t=s?.disableAnimation)!=null?t:!1,disableIndicatorAnimation:K=!1,itemClasses:k,...w}=e,[D,M]=x.useState(null),O=a||"div",N=typeof O=="string",ne=we(n),J=x.useMemo(()=>po({variant:o,className:c}),[o,c]),L={children:x.useMemo(()=>{let $=[];return Ee.Children.map(f,H=>{var oe;if(Ee.isValidElement(H)&&typeof((oe=H.props)==null?void 0:oe.children)!="string"){const re=Ee.cloneElement(H,{hasChildItems:!1});$.push(re)}else $.push(H)}),$},[f]),items:i},ce={expandedKeys:d,defaultExpandedKeys:b,onExpandedChange:v},ae={disabledKeys:u,selectedKeys:h,selectionMode:m,selectionBehavior:y,disallowEmptySelection:g,defaultSelectedKeys:p??b,onSelectionChange:C,...L,...ce},z=To(ae);z.selectionManager.setFocusedKey=$=>{M($)};const{accordionProps:de}=yo({...L,...ce},z,ne),ue=x.useMemo(()=>({state:z,focusedKey:D,motionProps:l,isCompact:R,isDisabled:_,hideIndicator:B,disableAnimation:V,keepContentMounted:P,disableIndicatorAnimation:K}),[D,R,_,B,h,V,P,z?.expandedKeys.values,K,z.expandedKeys.size,z.disabledKeys.size,l]),he=x.useCallback(($={})=>({ref:ne,className:J,"data-orientation":"vertical",...me(de,qe(w,{enabled:N}),$)}),[]),fe=x.useCallback(($,H)=>{$&&M(H)},[]);return{Component:O,values:ue,state:z,focusedKey:D,getBaseProps:he,isSplitted:o==="splitted",classNames:J,showDivider:S,dividerProps:E,disableAnimation:V,handleFocusChanged:fe,itemClasses:k}}var bn=Ie((e,t)=>{const{Component:s,values:n,state:a,isSplitted:c,showDivider:i,getBaseProps:o,disableAnimation:l,handleFocusChanged:d,itemClasses:u,dividerProps:h}=Mo({...e,ref:t}),f=x.useCallback((m,y)=>d(m,y),[d]),b=x.useMemo(()=>[...a.collection].map((m,y)=>{const P={...u,...m.props.classNames||{}};return r.jsxs(x.Fragment,{children:[r.jsx(Po,{item:m,variant:e.variant,onFocusChange:f,...n,...m.props,classNames:P}),!m.props.hidden&&!c&&i&&y<a.collection.size-1&&r.jsx(Wn,{...h})]},m.key)}),[n,u,f,c,i,a.collection]);return r.jsx(s,{...o(),children:l?b:r.jsx(tn,{children:b})})});bn.displayName="HeroUI.Accordion";var No=bn,Ao=Ss,Ro=Ao;const fs=e=>typeof e=="object"&&e!=null&&e.nodeType===1,ms=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",ke=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const s=getComputedStyle(e,null);return ms(s.overflowY,t)||ms(s.overflowX,t)||(n=>{const a=(c=>{if(!c.ownerDocument||!c.ownerDocument.defaultView)return null;try{return c.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)})(e)}return!1},Be=(e,t,s,n,a,c,i,o)=>c<e&&i>t||c>e&&i<t?0:c<=e&&o<=s||i>=t&&o>=s?c-e-n:i>t&&o<s||c<e&&o>s?i-t+a:0,So=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},ps=(e,t)=>{var s,n,a,c;if(typeof document>"u")return[];const{scrollMode:i,block:o,inline:l,boundary:d,skipOverflowHiddenElements:u}=t,h=typeof d=="function"?d:O=>O!==d;if(!fs(e))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,b=[];let m=e;for(;fs(m)&&h(m);){if(m=So(m),m===f){b.push(m);break}m!=null&&m===document.body&&ke(m)&&!ke(document.documentElement)||m!=null&&ke(m,u)&&b.push(m)}const y=(n=(s=window.visualViewport)==null?void 0:s.width)!=null?n:innerWidth,P=(c=(a=window.visualViewport)==null?void 0:a.height)!=null?c:innerHeight,{scrollX:g,scrollY:p}=window,{height:v,width:C,top:E,right:R,bottom:_,left:S}=e.getBoundingClientRect(),{top:B,right:V,bottom:K,left:k}=(O=>{const N=window.getComputedStyle(O);return{top:parseFloat(N.scrollMarginTop)||0,right:parseFloat(N.scrollMarginRight)||0,bottom:parseFloat(N.scrollMarginBottom)||0,left:parseFloat(N.scrollMarginLeft)||0}})(e);let w=o==="start"||o==="nearest"?E-B:o==="end"?_+K:E+v/2-B+K,D=l==="center"?S+C/2-k+V:l==="end"?R+V:S-k;const M=[];for(let O=0;O<b.length;O++){const N=b[O],{height:ne,width:J,top:I,right:L,bottom:ce,left:ae}=N.getBoundingClientRect();if(i==="if-needed"&&E>=0&&S>=0&&_<=P&&R<=y&&(N===f&&!ke(N)||E>=I&&_<=ce&&S>=ae&&R<=L))return M;const z=getComputedStyle(N),de=parseInt(z.borderLeftWidth,10),ue=parseInt(z.borderTopWidth,10),he=parseInt(z.borderRightWidth,10),fe=parseInt(z.borderBottomWidth,10);let $=0,H=0;const oe="offsetWidth"in N?N.offsetWidth-N.clientWidth-de-he:0,re="offsetHeight"in N?N.offsetHeight-N.clientHeight-ue-fe:0,ve="offsetWidth"in N?N.offsetWidth===0?0:J/N.offsetWidth:0,Pe="offsetHeight"in N?N.offsetHeight===0?0:ne/N.offsetHeight:0;if(f===N)$=o==="start"?w:o==="end"?w-P:o==="nearest"?Be(p,p+P,P,ue,fe,p+w,p+w+v,v):w-P/2,H=l==="start"?D:l==="center"?D-y/2:l==="end"?D-y:Be(g,g+y,y,de,he,g+D,g+D+C,C),$=Math.max(0,$+p),H=Math.max(0,H+g);else{$=o==="start"?w-I-ue:o==="end"?w-ce+fe+re:o==="nearest"?Be(I,ce,ne,ue,fe+re,w,w+v,v):w-(I+ne/2)+re/2,H=l==="start"?D-ae-de:l==="center"?D-(ae+J/2)+oe/2:l==="end"?D-L+he+oe:Be(ae,L,J,de,he+oe,D,D+C,C);const{scrollLeft:De,scrollTop:A}=N;$=Pe===0?0:Math.max(0,Math.min(A+$/Pe,N.scrollHeight-ne/Pe+re)),H=ve===0?0:Math.max(0,Math.min(De+H/ve,N.scrollWidth-J/ve+oe)),w+=A-$,D+=De-H}M.push({el:N,top:$,left:H})}return M},jo=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function wo(e,t){if(!e.isConnected||!(n=>{let a=n;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(e))return;if((n=>typeof n=="object"&&typeof n.behavior=="function")(t))return t.behavior(ps(e,t));const s=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:n,top:a,left:c}of ps(e,jo(t)))n.scroll({top:a,left:c,behavior:s})}function Io(e={}){const{rerender:t=!1,delay:s=0}=e,n=x.useRef(!1),[a,c]=x.useState(!1);return x.useEffect(()=>{n.current=!0;let i=null;return t&&(s>0?i=setTimeout(()=>{c(!0)},s):c(!0)),()=>{n.current=!1,t&&c(!1),i&&clearTimeout(i)}},[t]),[x.useCallback(()=>n.current,[]),a]}const yn=new WeakMap;function We(e,t,s){return e?(typeof t=="string"&&(t=t.replace(/\s+/g,"")),`${yn.get(e)}-${s}-${t}`):""}function Do(e,t,s){let{key:n,isDisabled:a,shouldSelectOnPressUp:c}=e,{selectionManager:i,selectedKey:o}=t,l=n===o,d=a||t.isDisabled||t.selectionManager.isDisabled(n),{itemProps:u,isPressed:h}=Hn({selectionManager:i,key:n,ref:s,isDisabled:d,shouldSelectOnPressUp:c,linkBehavior:"selection"}),f=We(t,n,"tab"),b=We(t,n,"tabpanel"),{tabIndex:m}=u,y=t.collection.getItem(n),P=_s(y?.props,{labelable:!0});delete P.id;let g=zn(y?.props),{focusableProps:p}=Os({isDisabled:d},s);return{tabProps:Re(P,p,g,u,{id:f,"aria-selected":l,"aria-disabled":d||void 0,"aria-controls":l?b:void 0,tabIndex:d?void 0:m,role:"tab"}),isSelected:l,isDisabled:d,isPressed:h}}function Oo(e,t,s){let n=mo(s)?void 0:0;var a;const c=We(t,(a=e.id)!==null&&a!==void 0?a:t?.selectedKey,"tabpanel"),i=js({...e,id:c,"aria-labelledby":We(t,t?.selectedKey,"tab")});return{tabPanelProps:Re(i,{tabIndex:n,role:"tabpanel","aria-describedby":e["aria-describedby"],"aria-details":e["aria-details"]})}}class _o{getKeyLeftOf(t){return this.flipDirection?this.getNextKey(t):this.getPreviousKey(t)}getKeyRightOf(t){return this.flipDirection?this.getPreviousKey(t):this.getNextKey(t)}isDisabled(t){var s,n;return this.disabledKeys.has(t)||!!(!((n=this.collection.getItem(t))===null||n===void 0||(s=n.props)===null||s===void 0)&&s.isDisabled)}getFirstKey(){let t=this.collection.getFirstKey();return t!=null&&this.isDisabled(t)&&(t=this.getNextKey(t)),t}getLastKey(){let t=this.collection.getLastKey();return t!=null&&this.isDisabled(t)&&(t=this.getPreviousKey(t)),t}getKeyAbove(t){return this.tabDirection?null:this.getPreviousKey(t)}getKeyBelow(t){return this.tabDirection?null:this.getNextKey(t)}getNextKey(t){let s=t;do s=this.collection.getKeyAfter(s),s==null&&(s=this.collection.getFirstKey());while(s!=null&&this.isDisabled(s));return s}getPreviousKey(t){let s=t;do s=this.collection.getKeyBefore(s),s==null&&(s=this.collection.getLastKey());while(s!=null&&this.isDisabled(s));return s}constructor(t,s,n,a=new Set){this.collection=t,this.flipDirection=s==="rtl"&&n==="horizontal",this.disabledKeys=a,this.tabDirection=n==="horizontal"}}function Lo(e,t,s){let{orientation:n="horizontal",keyboardActivation:a="automatic"}=e,{collection:c,selectionManager:i,disabledKeys:o}=t,{direction:l}=pi(),d=x.useMemo(()=>new _o(c,l,n,o),[c,o,n,l]),{collectionProps:u}=qn({ref:s,selectionManager:i,keyboardDelegate:d,selectOnFocus:a==="automatic",disallowEmptySelection:!0,scrollRef:s,linkBehavior:"selection"}),h=gi();yn.set(t,h);let f=js({...e,id:h});return{tabListProps:{...Re(u,f),role:"tablist","aria-orientation":n,tabIndex:void 0}}}var vn=Ie((e,t)=>{var s,n;const{as:a,tabKey:c,destroyInactiveTabPanel:i,state:o,className:l,slots:d,classNames:u,...h}=e,f=a||"div",b=we(t),{tabPanelProps:m}=Oo({...e,id:String(c)},o,b),{focusProps:y,isFocused:P,isFocusVisible:g}=gt(),p=o.selectedItem,v=o.collection.getItem(c).props.children,C=pe(u?.panel,l,(s=p?.props)==null?void 0:s.className),E=c===p?.key;return!v||!E&&i?null:r.jsx(f,{ref:b,"data-focus":P,"data-focus-visible":g,"data-inert":E?void 0:"true",inert:xi(!E),...E&&me(m,y,h),className:(n=d.panel)==null?void 0:n.call(d,{class:C}),"data-slot":"panel",children:v})});vn.displayName="HeroUI.TabPanel";var $o=vn,Pn=Ie((e,t)=>{var s;const{className:n,as:a,item:c,state:i,classNames:o,isDisabled:l,listRef:d,slots:u,motionProps:h,disableAnimation:f,disableCursorAnimation:b,shouldSelectOnPressUp:m,tabRef:y,...P}=e,{key:g}=c,p=we(t),v=a||(e.href?"a":"button"),C=typeof v=="string",{tabProps:E,isSelected:R,isDisabled:_,isPressed:S}=Do({key:g,isDisabled:l,shouldSelectOnPressUp:m},i,p);e.children==null&&delete E["aria-controls"];const B=l||_,{focusProps:V,isFocused:K,isFocusVisible:k}=gt(),{hoverProps:w,isHovered:D}=Ls({isDisabled:B}),M=pe(o?.tab,n),[,O]=Io({rerender:!0}),N=()=>{!p?.current||!d?.current||wo(p.current,{scrollMode:"if-needed",behavior:"smooth",block:"end",inline:"end",boundary:d?.current})};return r.jsxs(v,{ref:Li(p,y),"data-disabled":j(_),"data-focus":j(K),"data-focus-visible":j(k),"data-hover":j(D),"data-hover-unselected":j((D||S)&&!R),"data-pressed":j(S),"data-selected":j(R),"data-slot":"tab",...me(E,B?{}:{...V,...w},qe(P,{enabled:C,omitPropNames:new Set(["title"]),omitEventNames:new Set(["onClick"])}),{onClick:ks(N,E.onClick)}),className:(s=u.tab)==null?void 0:s.call(u,{class:M}),title:P?.titleValue,type:v==="button"?"button":void 0,children:[R&&!f&&!b&&O?r.jsx(ct,{features:uo,children:r.jsx(dt.span,{className:u.cursor({class:o?.cursor}),"data-slot":"cursor",layoutDependency:!1,layoutId:"cursor",transition:{type:"spring",bounce:.15,duration:.5},...h})}):null,r.jsx("div",{className:u.tabContent({class:o?.tabContent}),"data-slot":"tabContent",children:c.rendered})]})});Pn.displayName="HeroUI.Tab";var ko=Pn;function Bo(e){var t,s;let n=Yn({...e,onSelectionChange:e.onSelectionChange?l=>{var d;l!=null&&((d=e.onSelectionChange)===null||d===void 0||d.call(e,l))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(s=(t=e.defaultSelectedKey)!==null&&t!==void 0?t:gs(e.collection,e.disabledKeys?new Set(e.disabledKeys):new Set))!==null&&s!==void 0?s:void 0}),{selectionManager:a,collection:c,selectedKey:i}=n,o=x.useRef(i);return x.useEffect(()=>{let l=i;e.selectedKey==null&&(a.isEmpty||l==null||!c.getItem(l))&&(l=gs(c,n.disabledKeys),l!=null&&a.setSelectedKeys([l])),(l!=null&&a.focusedKey==null||!a.isFocused&&l!==o.current)&&a.setFocusedKey(l),o.current=l}),{...n,isDisabled:e.isDisabled||!1}}function gs(e,t){let s=null;if(e){var n,a,c,i;for(s=e.getFirstKey();s!=null&&(t.has(s)||!((a=e.getItem(s))===null||a===void 0||(n=a.props)===null||n===void 0)&&n.isDisabled)&&s!==e.getLastKey();)s=e.getKeyAfter(s);s!=null&&(t.has(s)||!((i=e.getItem(s))===null||i===void 0||(c=i.props)===null||c===void 0)&&c.isDisabled)&&s===e.getLastKey()&&(s=e.getFirstKey())}return s}function Vo(e){var t,s,n;const a=bt(),[c,i]=bi(e,ds.variantKeys),{ref:o,as:l,className:d,classNames:u,children:h,disableCursorAnimation:f,motionProps:b,isVertical:m=!1,shouldSelectOnPressUp:y=!0,destroyInactiveTabPanel:P=!0,...g}=c,p=l||"div",v=typeof p=="string",C=we(o),E=(s=(t=e?.disableAnimation)!=null?t:a?.disableAnimation)!=null?s:!1,R=Bo({children:h,...g}),{tabListProps:_}=Lo(g,R,C),S=x.useMemo(()=>ds({...i,disableAnimation:E,...m?{placement:"start"}:{}}),[$s(i),E,m]),B=pe(u?.base,d),V=x.useMemo(()=>({state:R,slots:S,classNames:u,motionProps:b,disableAnimation:E,listRef:C,shouldSelectOnPressUp:y,disableCursorAnimation:f,isDisabled:e?.isDisabled}),[R,S,C,b,E,f,y,e?.isDisabled,u]),K=x.useCallback(M=>({"data-slot":"base",className:S.base({class:pe(B,M?.className)}),...me(qe(g,{enabled:v}),M)}),[B,g,S]),k=(n=i.placement)!=null?n:m?"start":"top",w=x.useCallback(M=>({"data-slot":"tabWrapper",className:S.tabWrapper({class:pe(u?.tabWrapper,M?.className)}),"data-placement":k,"data-vertical":m||k==="start"||k==="end"?"vertical":"horizontal"}),[u,S,k,m]),D=x.useCallback(M=>({ref:C,"data-slot":"tabList",className:S.tabList({class:pe(u?.tabList,M?.className)}),...me(_,M)}),[C,_,u,S]);return{Component:p,domRef:C,state:R,values:V,destroyInactiveTabPanel:P,getBaseProps:K,getTabListProps:D,getWrapperProps:w}}var Ko=Ie(function(t,s){const{Component:n,values:a,state:c,destroyInactiveTabPanel:i,getBaseProps:o,getTabListProps:l,getWrapperProps:d}=Vo({...t,ref:s}),u=x.useId(),h=!t.disableAnimation&&!t.disableCursorAnimation,f={state:c,listRef:a.listRef,slots:a.slots,classNames:a.classNames,isDisabled:a.isDisabled,motionProps:a.motionProps,disableAnimation:a.disableAnimation,shouldSelectOnPressUp:a.shouldSelectOnPressUp,disableCursorAnimation:a.disableCursorAnimation},b=[...c.collection].map(y=>r.jsx(ko,{item:y,...f,...y.props},y.key)),m=r.jsxs(r.Fragment,{children:[r.jsx("div",{...o(),children:r.jsx(n,{...l(),children:h?r.jsx(tn,{id:u,children:b}):b})}),[...c.collection].map(y=>r.jsx($o,{classNames:a.classNames,destroyInactiveTabPanel:i,slots:a.slots,state:a.state,tabKey:y.key},y.key))]});return"placement"in t||"isVertical"in t?r.jsx("div",{...d(),children:m}):m}),Fo=Ko,Go=Ss,it=Go;const Uo=e=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},x.createElement("path",{d:"M8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z",fill:"white"}),x.createElement("path",{d:"M5.25511 5.78615C5.24752 5.92237 5.3599 6.03271 5.49634 6.03271H6.32082C6.45889 6.03271 6.56868 5.92013 6.58723 5.78331C6.67618 5.12718 7.1265 4.64893 7.92922 4.64893C8.61477 4.64893 9.24318 4.9917 9.24318 5.81689C9.24318 6.45166 8.86867 6.74365 8.27834 7.18799C7.60549 7.67676 7.07229 8.24805 7.11037 9.1748L7.11334 9.39161C7.11521 9.52833 7.22658 9.63818 7.36332 9.63818H8.17434C8.31241 9.63818 8.42434 9.52625 8.42434 9.38818V9.28271C8.42434 8.56543 8.69729 8.35596 9.43361 7.79736C10.043 7.33398 10.6778 6.81982 10.6778 5.74072C10.6778 4.22998 9.40188 3.5 8.00539 3.5C6.73831 3.5 5.34964 4.09061 5.25511 5.78615ZM6.81203 11.5488C6.81203 12.082 7.23732 12.4756 7.82131 12.4756C8.43068 12.4756 8.84963 12.082 8.84963 11.5488C8.84963 10.9966 8.43068 10.6094 7.82131 10.6094C7.23732 10.6094 6.81203 10.9966 6.81203 11.5488Z",fill:"white"}));function Wo(){const{t:e}=U();return r.jsxs("div",{children:[r.jsx("h1",{className:"text-white text-[28px] font-bold",children:e(T.MICROAGENT_MANAGEMENT$DESCRIPTION)}),r.jsxs("p",{className:"text-white text-sm font-normal leading-[20px] pt-2",children:[e(T.MICROAGENT_MANAGEMENT$USE_MICROAGENTS),r.jsx("a",{href:Ve.MICROAGENTS.MICROAGENTS_OVERVIEW,target:"_blank",rel:"noopener noreferrer",children:r.jsx(Uo,{className:"inline-block ml-1"})})]})]})}function xs({microagent:e,conversation:t,repository:s}){const{t:n}=U(),{selectedMicroagentItem:a}=G(m=>m.microagentManagement),c=ge(),{status:i,runtime_status:o,pr_number:l}=t??{},d=!!(l&&l.length>0),u=x.useMemo(()=>d?n(T.COMMON$READY_FOR_REVIEW):i==="STARTING"||o==="STATUS$STARTING_RUNTIME"?n(T.COMMON$STARTING):i==="STOPPED"||o==="STATUS$STOPPED"?n(T.COMMON$STOPPED):o==="STATUS$ERROR"?n(T.MICROAGENT$STATUS_ERROR):i==="RUNNING"&&o==="STATUS$READY"?n(T.MICROAGENT$STATUS_OPENING_PR):"",[i,o,n,d]),h=e?.name??t?.title,f=x.useMemo(()=>e&&a?.microagent?a.microagent.name===e.name:t&&a?.conversation?a.conversation.conversation_id===t.conversation_id:!1,[e,t,a]),b=()=>{c(Ts(e?{microagent:e,conversation:null}:{microagent:null,conversation:t})),c(mt(s))};return r.jsx("div",{className:ie("rounded-lg bg-[#ffffff0d] border border-[#ffffff33] p-4 cursor-pointer hover:bg-[#ffffff33] hover:border-[#C9B974] transition-all duration-300",f&&"bg-[#ffffff33] border-[#C9B974]"),onClick:b,children:r.jsxs("div",{className:"flex flex-col items-start gap-2",children:[u&&r.jsx("div",{className:"px-[6px] py-[2px] text-[11px] font-medium bg-[#C9B97433] text-white rounded-2xl",children:u}),r.jsx("div",{className:"text-white text-[16px] font-semibold",children:h}),!!e&&r.jsx("div",{className:"text-white text-sm font-normal",children:e.path})]})})}function bs({repository:e}){const t=ge(),{t:s}=U(),n=()=>{t(Es(!0)),t(mt(e))};return r.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[#ffffff0d] border border-dashed border-[#ffffff4d] p-4 hover:bg-[#ffffff33] hover:border-[#C9B974] transition-all duration-300 cursor-pointer",onClick:n,"data-testid":"learn-this-repo-trigger",children:r.jsx("span",{className:"text-[16px] font-normal text-[#8480FF]",children:s(T.MICROAGENT_MANAGEMENT$LEARN_THIS_REPO)})})}const Ho=(e,t,s=!1)=>pt({queryKey:["repository","microagents",e,t],queryFn:()=>je.getRepositoryMicroagents(e,t),enabled:!!e&&!!t,staleTime:s?0:1e3*60*5,gcTime:s?0:1e3*60*15}),zo=(e,t,s=100,n=!1)=>pt({queryKey:["conversations","search",e,t,s],queryFn:()=>je.searchConversations(e,t,s),enabled:!0,staleTime:n?0:1e3*60*5,gcTime:n?0:1e3*60*15});function qo({repository:e}){const{selectedMicroagentItem:t}=G(g=>g.microagentManagement),s=ge(),{full_name:n}=e,[a,c]=n.split("/"),{data:i,isLoading:o,isError:l}=Ho(a,c,!0),{data:d,isLoading:u,isError:h}=zo(n,"microagent_management",1e3,!0);x.useEffect(()=>{const g=d&&d.length>0,p=t?.conversation;if(g&&p){const v=d.find(C=>C.conversation_id===p.conversation_id);v&&s(Ts({microagent:null,conversation:v}))}},[d]);const f=o||u,b=l||h;if(f)return r.jsx("div",{className:"pb-4 flex justify-center",children:r.jsx(Ye,{size:"sm","data-testid":"loading-spinner"})});if(b)return r.jsx("div",{className:"pb-4",children:r.jsx(bs,{repository:e})});const m=i?.length||0,y=d?.length||0,P=m+y;return r.jsxs("div",{className:"pb-4",children:[P===0&&r.jsx(bs,{repository:e}),m>0&&i?.map(g=>r.jsx("div",{className:"pb-4 last:pb-0",children:r.jsx(xs,{microagent:g,repository:e})},g.name)),y>0&&d?.map(g=>r.jsx("div",{className:"pb-4 last:pb-0",children:r.jsx(xs,{conversation:g,repository:e})},g.conversation_id))]})}function at({title:e,documentationUrl:t}){return r.jsx("div",{className:"flex items-center justify-center pt-10",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-white text-sm font-medium",children:e}),r.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:r.jsx(Ge,{className:"text-primary"})})]})})}function Yo({gitProvider:e}){return r.jsxs(r.Fragment,{children:[e==="github"&&r.jsx(Xn,{size:14}),e==="gitlab"&&r.jsx(Qn,{}),e==="bitbucket"&&r.jsx(Zn,{})]})}function Xo({repository:e}){const{t}=U(),{addMicroagentModalVisible:s}=G(c=>c.microagentManagement),n=ge(),a=c=>{c.stopPropagation(),n(Ms(!s)),n(mt(e))};return r.jsx("div",{onClick:a,children:r.jsx(ws,{tooltip:t(T.COMMON$ADD_MICROAGENT),ariaLabel:t(T.COMMON$ADD_MICROAGENT),className:"p-0 min-w-0 h-6 w-6 flex items-center justify-center bg-transparent cursor-pointer",testId:"add-microagent-button",placement:"bottom",children:r.jsx(Jn,{width:22,height:22})})})}function Qo({repository:e}){return r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yo,{gitProvider:e.git_provider}),r.jsx(ws,{tooltip:e.full_name,ariaLabel:e.full_name,className:"text-white text-base font-normal bg-transparent p-0 min-w-0 h-auto cursor-pointer truncate max-w-[232px]",testId:"repository-name-tooltip",placement:"bottom",children:r.jsx("span",{children:e.full_name})})]}),r.jsx(Xo,{repository:e})]})}const ys=e=>e.trim().replace(/https?:\/\//,"").replace(/github.com\//,"").replace(/\.git$/,"").toLowerCase();function ot({repositories:e,tabType:t}){const{t:s}=U(),[n,a]=x.useState(""),c=e.length,i=x.useMemo(()=>{if(!n.trim())return e;const o=ys(n);return e.filter(l=>ys(l.full_name).includes(o))},[e,n]);if(c===0){if(t==="personal")return r.jsx(at,{title:s(T.MICROAGENT_MANAGEMENT$YOU_DO_NOT_HAVE_USER_LEVEL_MICROAGENTS),documentationUrl:Ve.MICROAGENTS.MICROAGENTS_OVERVIEW});if(t==="repositories")return r.jsx(at,{title:s(T.MICROAGENT_MANAGEMENT$YOU_DO_NOT_HAVE_MICROAGENTS),documentationUrl:Ve.MICROAGENTS.MICROAGENTS_OVERVIEW});if(t==="organizations")return r.jsx(at,{title:s(T.MICROAGENT_MANAGEMENT$YOU_DO_NOT_HAVE_ORGANIZATION_LEVEL_MICROAGENTS),documentationUrl:Ve.MICROAGENTS.ORGANIZATION_AND_USER_MICROAGENTS})}return r.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[r.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[r.jsx("label",{htmlFor:"repository-search",className:"sr-only",children:s(T.COMMON$SEARCH_REPOSITORIES)}),r.jsx("input",{id:"repository-search",name:"repository-search",type:"text",placeholder:`${s(T.COMMON$SEARCH_REPOSITORIES)}...`,value:n,onChange:o=>a(o.target.value),className:ie("bg-tertiary border border-[#717888] bg-[#454545] w-full rounded-sm p-2 placeholder:italic placeholder:text-tertiary-alt","disabled:bg-[#2D2F36] disabled:border-[#2D2F36] disabled:cursor-not-allowed")})]}),r.jsx(No,{variant:"splitted",className:"w-full px-0 gap-3",itemClasses:{base:"shadow-none bg-transparent border border-[#ffffff40] rounded-[6px] cursor-pointer",trigger:"cursor-pointer gap-1"},selectionMode:"multiple",children:i.map(o=>r.jsx(Ro,{"aria-label":o.full_name,title:r.jsx(Qo,{repository:o}),children:r.jsx(qo,{repository:o})},o.id))})]})}function Zo(){const{t:e}=U(),{repositories:t,personalRepositories:s,organizationRepositories:n}=G(a=>a.microagentManagement);return r.jsx("div",{className:"flex w-full flex-col",children:r.jsxs(Fo,{"aria-label":"Options",classNames:{base:"py-6",tabList:"w-full bg-transparent border border-[#ffffff40] rounded-[6px]",tab:"px-2 h-[22px]",tabContent:"text-white text-[12px] font-normal",panel:"p-0",cursor:"bg-[#C9B97480] rounded-sm"},children:[r.jsx(it,{title:e(T.COMMON$PERSONAL),children:r.jsx(ot,{repositories:s,tabType:"personal"})},"personal"),r.jsx(it,{title:e(T.COMMON$REPOSITORIES),children:r.jsx(ot,{repositories:t,tabType:"repositories"})},"repositories"),r.jsx(it,{title:e(T.COMMON$ORGANIZATIONS),children:r.jsx(ot,{repositories:n,tabType:"organizations"})},"organizations")]})})}const Jo=e=>{const{providers:t}=zs(),{data:s}=$i(),n=ei({queryKey:["repositories",t||[],e],queryFn:async({pageParam:c})=>je.retrieveUserGitRepositories(e,c,30),initialPageParam:1,getNextPageParam:c=>c.nextPage,enabled:(t||[]).length>0&&!!e&&!Ln(e,s?.APP_MODE),staleTime:1e3*60*5,gcTime:1e3*60*15}),a=()=>{n.hasNextPage&&!n.isFetchingNextPage&&n.fetchNextPage()};return{data:n.data,isLoading:n.isLoading,isError:n.isError,hasNextPage:n.hasNextPage,isFetchingNextPage:n.isFetchingNextPage,onLoadMore:a}};function vs({isSmallerScreen:e=!1}){const t=ge(),{t:s}=U(),{providers:n}=zs(),a=n.length>0?n[0]:null,{data:c,isLoading:i}=Jo(a);return x.useEffect(()=>{if(c?.pages){const o=[],l=[],d=[];c.pages.flatMap(h=>h.data).forEach(h=>{const f=h.full_name.endsWith("/.openhands");h.owner_type==="user"&&f?o.push(h):h.owner_type==="organization"&&f?l.push(h):d.push(h)}),t(Dn(o)),t(On(l)),t(_n(d))}},[c,t]),r.jsxs("div",{className:ie("w-[418px] h-full max-h-full overflow-y-auto overflow-x-hidden border-r border-[#525252] bg-[#24272E] rounded-tl-lg rounded-bl-lg py-10 px-6 flex flex-col",e&&"w-full border-none"),children:[r.jsx(Wo,{}),i?r.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 flex-1",children:[r.jsx(Ye,{size:"sm"}),r.jsx("span",{className:"text-sm text-white",children:s("HOME$LOADING_REPOSITORIES")})]}):r.jsx(Zo,{})]})}function Ps(){const{t:e}=U();return r.jsxs("div",{className:"flex-1 flex flex-col h-full items-center justify-center",children:[r.jsx("div",{className:"text-[#F9FBFE] text-xl font-bold pb-4",children:e(T.MICROAGENT_MANAGEMENT$READY_TO_ADD_MICROAGENT)}),r.jsx("div",{className:"text-white text-sm font-normal text-center max-w-[455px]",children:e(T.MICROAGENT_MANAGEMENT$OPENHANDS_CAN_LEARN_ABOUT_REPOSITORIES)})]})}function vt({size:e="medium",className:t}){const n={small:"w-3 h-3",medium:"w-4 h-4",large:"w-5 h-5"}[e];return r.jsx("div",{"data-testid":"loader",className:ie("flex items-center justify-center",t),children:r.jsx("div",{className:ie("loader rounded-full",n)})})}function er(){const{t:e}=U(),{selectedMicroagentItem:t}=G(a=>a.microagentManagement),{conversation:s}=t??{},{conversation_id:n}=s??{};return n?r.jsxs("div",{className:"flex-1 flex flex-col h-full items-center justify-center",children:[r.jsxs("div",{className:"text-[#ffffff99] text-[22px] font-semibold pb-2",children:[e(T.COMMON$WORKING_ON_IT),"!"]}),r.jsx("div",{className:"text-[#ffffff99] text-[18px] font-normal text-center max-w-[518px] pb-[22px]",children:e(T.MICROAGENT_MANAGEMENT$WE_ARE_WORKING_ON_IT)}),r.jsx(vt,{size:"small",className:"pb-[22px]"}),r.jsx("a",{href:`/conversations/${n}`,target:"_blank",rel:"noopener noreferrer",children:r.jsx(se,{type:"button",variant:"secondary",testId:"view-conversation-button",children:e(T.MICROAGENT$VIEW_CONVERSATION)})})]}):null}function tr(){const{t:e}=U(),{selectedMicroagentItem:t}=G(o=>o.microagentManagement),{conversation:s}=t??{},{conversation_id:n,selected_repository:a,git_provider:c,pr_number:i}=s??{};return n?r.jsxs("div",{className:"flex-1 flex flex-col h-full items-center justify-center",children:[r.jsx("div",{className:"text-[#ffffff99] text-[22px] font-bold pb-[22px] text-center max-w-[455px]",children:e(T.MICROAGENT_MANAGEMENT$YOUR_MICROAGENT_IS_READY)}),r.jsxs("div",{className:"flex gap-[22px]",children:[r.jsx("a",{href:`/conversations/${n}`,target:"_blank",rel:"noopener noreferrer",children:r.jsx(se,{type:"button",variant:"secondary",testId:"view-conversation-button",children:e(T.MICROAGENT$VIEW_CONVERSATION)})}),r.jsx("a",{href:a&&c&&i&&i.length>0?$n(i[0],c,a):"/#",target:"_blank",rel:"noopener noreferrer",children:r.jsx(se,{type:"button",variant:"primary",testId:"view-conversation-button",children:`${e(T.COMMON$REVIEW_PR_IN)} ${ze(c)}`})})]})]}):null}function sr(){const{t:e}=U(),t=ge(),{selectedMicroagentItem:s}=G(o=>o.microagentManagement),{selectedRepository:n}=G(o=>o.microagentManagement),{microagent:a}=s??{};if(!a||!n)return null;const c=kn(n.git_provider,n.full_name,a.path),i=()=>{t(Ns(!0))};return r.jsxs("div",{className:"flex items-center justify-between pb-2",children:[r.jsx("span",{className:"text-sm text-[#ffffff99]",children:n.full_name}),r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:r.jsx(se,{type:"button",variant:"secondary",testId:"edit-in-git-button",className:"py-1 px-2",children:`${e(T.COMMON$EDIT_IN)} ${ze(n.git_provider)}`})}),r.jsx(se,{type:"button",variant:"primary",onClick:i,testId:"learn-button",className:"py-1 px-2",children:e(T.COMMON$LEARN_SOMETHING_NEW)})]})]})}const Cn=(e,t,s,n=!1)=>pt({queryKey:["repository","microagent","content",e,t,s],queryFn:()=>je.getRepositoryMicroagentContent(e,t,s),enabled:!!e&&!!t&&!!s,staleTime:n?0:1e3*60*5,gcTime:n?0:1e3*60*15});function nr(){const{t:e}=U(),{selectedMicroagentItem:t}=G(u=>u.microagentManagement),{selectedRepository:s}=G(u=>u.microagentManagement),{microagent:n}=t??{},{owner:a,repo:c,filePath:i}=As(s,n),{data:o,isLoading:l,error:d}=Cn(a,c,i,!0);return!n||!s?null:r.jsxs("div",{className:"w-full h-full p-6 bg-[#ffffff1a] rounded-2xl text-white text-sm",children:[l&&r.jsx("div",{className:"flex items-center justify-center w-full h-full",children:r.jsx(Ye,{size:"lg","data-testid":"loading-microagent-content-spinner"})}),d&&r.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e(T.MICROAGENT_MANAGEMENT$ERROR_LOADING_MICROAGENT_CONTENT)}),o&&!l&&!d&&r.jsx(qi,{components:{code:Gi,ul:Fi,ol:Ki,a:Vi,p:Yi},remarkPlugins:[ki,Bi],children:o.content})]})}function ir(){const{selectedMicroagentItem:e}=G(n=>n.microagentManagement),{selectedRepository:t}=G(n=>n.microagentManagement),{microagent:s}=e??{};return!s||!t?null:r.jsxs("div",{className:"flex flex-col w-full h-full p-6 overflow-auto",children:[r.jsx(sr,{}),r.jsx("span",{className:"text-white text-2xl font-medium pb-2",children:s.name}),r.jsx("span",{className:"text-white text-lg font-medium pb-6",children:s.path}),r.jsx("div",{className:"flex-1",children:r.jsx(nr,{})})]})}function ar(){const{t:e}=U(),{selectedMicroagentItem:t}=G(a=>a.microagentManagement),{conversation:s}=t??{},{conversation_id:n}=s??{};return n?r.jsxs("div",{className:"flex-1 flex flex-col h-full items-center justify-center",children:[r.jsx("div",{className:"text-[#ffffff99] text-[22px] font-bold pb-[22px] text-center max-w-[455px]",children:e(T.MICROAGENT_MANAGEMENT$ERROR)}),r.jsx(vt,{size:"small",className:"pb-[22px]"}),r.jsx("a",{href:`/conversations/${n}`,target:"_blank",rel:"noopener noreferrer",children:r.jsx(se,{type:"button",variant:"secondary",testId:"view-conversation-button",children:e(T.MICROAGENT$VIEW_CONVERSATION)})})]}):null}function or(){const{t:e}=U(),{selectedMicroagentItem:t}=G(a=>a.microagentManagement),{conversation:s}=t??{},{conversation_id:n}=s??{};return n?r.jsxs("div",{className:"flex-1 flex flex-col h-full items-center justify-center",children:[r.jsx("div",{className:"text-[#ffffff99] text-[22px] font-bold pb-[22px] text-center max-w-[455px]",children:e(T.MICROAGENT_MANAGEMENT$CONVERSATION_STOPPED)}),r.jsx(vt,{size:"small",className:"pb-[22px]"}),r.jsx("a",{href:`/conversations/${n}`,target:"_blank",rel:"noopener noreferrer",children:r.jsx(se,{type:"button",variant:"secondary",testId:"view-conversation-button",children:e(T.MICROAGENT$VIEW_CONVERSATION)})})]}):null}function Cs(){const{selectedMicroagentItem:e}=G(n=>n.microagentManagement),{microagent:t,conversation:s}=e??{};if(t)return r.jsx(ir,{});if(s){if(s.pr_number&&s.pr_number.length>0)return r.jsx(tr,{});const n=s.status==="STARTING"||s.runtime_status==="STATUS$STARTING_RUNTIME",a=s.status==="RUNNING"&&s.runtime_status==="STATUS$READY";return n||a?r.jsx(er,{}):s.runtime_status==="STATUS$ERROR"?r.jsx(ar,{}):s.status==="STOPPED"||s.runtime_status==="STATUS$STOPPED"?r.jsx(or,{}):r.jsx(Ps,{})}return r.jsx(Ps,{})}function He({items:e,onSelectionChange:t,onInputChange:s,isDisabled:n,selectedKey:a,wrapperClassName:c,label:i}){const{t:o}=U();return r.jsx(Xi,{testId:"branch-dropdown",name:"branch-dropdown",placeholder:o(T.REPOSITORY$SELECT_BRANCH),items:e,wrapperClassName:ie("max-w-[500px]",c),onSelectionChange:t,onInputChange:s,isDisabled:n,selectedKey:a,label:i})}function Tn({wrapperClassName:e}){const{t}=U();return r.jsxs("div",{"data-testid":"branch-dropdown-loading",className:ie("flex items-center gap-2 max-w-[500px] h-10 px-3 bg-tertiary border border-[#717888] rounded-sm",e),children:[r.jsx(Ye,{size:"sm"}),r.jsx("span",{className:"text-sm",children:t("HOME$LOADING_BRANCHES")})]})}function En({wrapperClassName:e}){const{t}=U();return r.jsx("div",{"data-testid":"branch-dropdown-error",className:ie("flex items-center gap-2 max-w-[500px] h-10 px-3 bg-tertiary border border-[#717888] rounded-sm text-red-500",e),children:r.jsx("span",{className:"text-sm",children:t("HOME$FAILED_TO_LOAD_BRANCHES")})})}function rr({onConfirm:e,onCancel:t,isLoading:s=!1,isUpdate:n=!1}){const{t:a}=U(),[c,i]=x.useState([]),[o,l]=x.useState(""),[d,u]=x.useState(null),{selectedRepository:h}=G(M=>M.microagentManagement),{selectedMicroagentItem:f}=G(M=>M.microagentManagement),{microagent:b}=f??{},m=x.useRef(!1),{owner:y,repo:P,filePath:g}=As(h,b),{data:p,isLoading:v}=Cn(y,P,g,!0);x.useEffect(()=>{n&&p&&(l(p.content),i(p.triggers||[]))},[n,p]);const{data:C,isLoading:E,isError:R}=Qs(h?.full_name||null),_=C?.map(M=>({key:M.name,label:M.name}));x.useEffect(()=>{if(C&&C.length>0&&!d&&!E){const M=C.find(N=>N.name==="main"),O=C.find(N=>N.name==="master");M?u(M):O&&u(O)}},[C,E,d]);const S=x.useMemo(()=>n?a(T.MICROAGENT_MANAGEMENT$UPDATE_MICROAGENT):h?`${a(T.MICROAGENT_MANAGEMENT$ADD_A_MICROAGENT_TO)} ${h.full_name}`:a(T.MICROAGENT_MANAGEMENT$ADD_A_MICROAGENT),[n,h,a]),B=x.useMemo(()=>a(n?T.MICROAGENT_MANAGEMENT$UPDATE_MICROAGENT_MODAL_DESCRIPTION:T.MICROAGENT_MANAGEMENT$ADD_MICROAGENT_MODAL_DESCRIPTION),[n,a]),V=M=>{M.preventDefault(),o.trim()&&e({query:o.trim(),triggers:c,selectedBranch:d?.name||"",microagentPath:b?.path||""})},K=()=>{o.trim()&&e({query:o.trim(),triggers:c,selectedBranch:d?.name||"",microagentPath:b?.path||""})},k=M=>{const O=C?.find(N=>N.name===M);u(O||null),m.current=!1},w=M=>{M===""||M.trim()===""?(u(null),m.current=!0):m.current=!1},D=()=>h?E?r.jsx(Tn,{wrapperClassName:"max-w-full w-full"}):R?r.jsx(En,{wrapperClassName:"max-w-full w-full"}):r.jsx(He,{items:_||[],onSelectionChange:k,onInputChange:w,isDisabled:!1,selectedKey:d?.name,wrapperClassName:"max-w-full w-full",label:a(T.REPOSITORY$SELECT_BRANCH)}):r.jsx(He,{items:[],onSelectionChange:()=>{},onInputChange:()=>{},isDisabled:!0,wrapperClassName:"max-w-full w-full",label:a(T.REPOSITORY$SELECT_BRANCH)});return r.jsx(Ys,{onClose:t,children:r.jsxs(Xs,{className:"items-start rounded-[12px] p-6 min-w-[611px]",children:[r.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-white text-xl font-medium",children:S}),r.jsx("a",{href:"https://docs.all-hands.dev/usage/prompting/microagents-overview#microagents-overview",target:"_blank",rel:"noopener noreferrer",children:r.jsx(Ge,{className:"text-primary"})})]}),r.jsx("button",{type:"button",onClick:t,className:"cursor-pointer",children:r.jsx(qs,{width:24,height:24,color:"#F9FBFE"})})]}),r.jsx("span",{className:"text-white text-sm font-normal",children:B})]}),r.jsxs("form",{"data-testid":"add-microagent-modal",onSubmit:V,className:"flex flex-col gap-6 w-full",children:[D(),r.jsxs("label",{htmlFor:"query-input",className:"flex flex-col gap-2 w-full text-sm font-normal",children:[a(T.MICROAGENT_MANAGEMENT$WHAT_TO_DO),r.jsx("textarea",{required:!0,"data-testid":"query-input",name:"query-input",value:o,onChange:M=>l(M.target.value),placeholder:a(T.MICROAGENT_MANAGEMENT$DESCRIBE_WHAT_TO_DO),rows:6,className:ie("bg-tertiary border border-[#717888] bg-[#454545] w-full rounded-sm p-2 placeholder:italic placeholder:text-tertiary-alt resize-none","disabled:bg-[#2D2F36] disabled:border-[#2D2F36] disabled:cursor-not-allowed")})]}),r.jsxs("label",{htmlFor:"trigger-input",className:"flex flex-col gap-2.5 w-full text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a(T.MICROAGENT_MANAGEMENT$ADD_TRIGGERS),r.jsx("a",{href:"https://docs.all-hands.dev/usage/prompting/microagents-keyword",target:"_blank",rel:"noopener noreferrer",children:r.jsx(Ge,{className:"text-primary"})})]}),r.jsx(Ui,{name:"trigger-input",value:c,placeholder:a("MICROAGENT$TYPE_TRIGGER_SPACE"),onChange:i}),r.jsx("span",{className:"text-xs text-[#ffffff80] font-normal",children:a(T.MICROAGENT_MANAGEMENT$HELP_TEXT_DESCRIBING_VALID_TRIGGERS)})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 w-full",onClick:M=>M.stopPropagation(),children:[r.jsx(se,{type:"button",variant:"secondary",onClick:t,testId:"cancel-button",children:a(T.BUTTON$CANCEL)}),r.jsx(se,{type:"button",variant:"primary",onClick:K,testId:"confirm-button",isDisabled:!o.trim()||s||E||!d||R||n&&v,children:a(s||E||n&&v?T.HOME$LOADING:T.MICROAGENT$LAUNCH)})]})]})})}function lr({onConfirm:e,onCancel:t,isLoading:s=!1}){const{t:n}=U(),[a,c]=x.useState(""),[i,o]=x.useState(null),{selectedRepository:l}=G(v=>v.microagentManagement),d=x.useRef(!1),{data:u,isLoading:h,isError:f}=Qs(l?.full_name||null),b=u?.map(v=>({key:v.name,label:v.name}));x.useEffect(()=>{if(u&&u.length>0&&!i&&!h){const v=u.find(E=>E.name==="main"),C=u.find(E=>E.name==="master");v?o(v):C&&o(C)}},[u,h,i]);const m=v=>{v.preventDefault(),a.trim()&&e({query:a.trim(),selectedBranch:i?.name||""})},y=()=>{a.trim()&&e({query:a.trim(),selectedBranch:i?.name||""})},P=v=>{const C=u?.find(E=>E.name===v);o(C||null),d.current=!1},g=v=>{v===""||v.trim()===""?(o(null),d.current=!0):d.current=!1},p=()=>l?h?r.jsx(Tn,{wrapperClassName:"max-w-full w-full"}):f?r.jsx(En,{wrapperClassName:"max-w-full w-full"}):r.jsx(He,{items:b||[],onSelectionChange:P,onInputChange:g,isDisabled:!1,selectedKey:i?.name,wrapperClassName:"max-w-full w-full",label:n(T.REPOSITORY$SELECT_BRANCH)}):r.jsx(He,{items:[],onSelectionChange:()=>{},onInputChange:()=>{},isDisabled:!0,wrapperClassName:"max-w-full w-full",label:n(T.REPOSITORY$SELECT_BRANCH)});return r.jsx(Ys,{onClose:t,children:r.jsxs(Xs,{className:"items-start rounded-[12px] p-6 min-w-[611px]","data-testid":"learn-this-repo-modal",children:[r.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-white text-xl font-medium","data-testid":"modal-title",children:n(T.MICROAGENT_MANAGEMENT$LEARN_THIS_REPO_MODAL_TITLE)}),r.jsx("a",{href:"https://docs.all-hands.dev/usage/prompting/microagents-overview#microagents-overview",target:"_blank",rel:"noopener noreferrer","data-testid":"modal-info-link",children:r.jsx(Ge,{className:"text-primary"})})]}),r.jsx("button",{type:"button",onClick:t,className:"cursor-pointer","data-testid":"modal-close-button",children:r.jsx(qs,{width:24,height:24,color:"#F9FBFE"})})]}),r.jsx("span",{className:"text-white text-sm font-normal","data-testid":"modal-description",children:n(T.MICROAGENT_MANAGEMENT$LEARN_THIS_REPO_MODAL_DESCRIPTION)})]}),r.jsxs("form",{"data-testid":"learn-this-repo-form",onSubmit:m,className:"flex flex-col gap-6 w-full",children:[r.jsx("div",{"data-testid":"branch-selector-container",children:p()}),r.jsxs("label",{htmlFor:"query-input",className:"flex flex-col gap-2 w-full text-sm font-normal",children:[n(T.MICROAGENT_MANAGEMENT$WHAT_YOU_WOULD_LIKE_TO_KNOW_ABOUT_THIS_REPO),r.jsx("textarea",{required:!0,"data-testid":"query-input",name:"query-input",value:a,onChange:v=>c(v.target.value),placeholder:n(T.MICROAGENT_MANAGEMENT$DESCRIBE_WHAT_TO_KNOW_ABOUT_THIS_REPO),rows:6,className:ie("bg-tertiary border border-[#717888] bg-[#454545] w-full rounded-sm p-2 placeholder:italic placeholder:text-tertiary-alt resize-none","disabled:bg-[#2D2F36] disabled:border-[#2D2F36] disabled:cursor-not-allowed")})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-2 w-full",onClick:v=>v.stopPropagation(),"data-testid":"modal-actions",children:[r.jsx(se,{type:"button",variant:"secondary",onClick:t,testId:"cancel-button",children:n(T.BUTTON$CANCEL)}),r.jsx(se,{type:"button",variant:"primary",onClick:y,testId:"confirm-button",isDisabled:!a.trim()||s||h||!i||f,children:n(s||h?T.HOME$LOADING:T.MICROAGENT$LAUNCH)})]})]})})}const cr=e=>typeof e=="object"&&e!==null&&"error"in e&&e.error===!0,dr=e=>ht(e)&&Zs(e)&&e.extras.agent_state===Qi.ERROR,ur=e=>{const t=cr(e)||dr(e),s=ht(e)&&Zs(e),n=ht(e)&&Zi(e);return t||s||n},hr=(e,t,s,n,a)=>`Create a microagent for the repository ${e} by following the steps below:

- Step 1: Create a markdown file inside the .openhands/microagents folder with the name of the microagent (The microagent must be created in the .openhands/microagents folder and should be able to perform the described task when triggered).

- This is the instructions about what the microagent should do: ${t.query}

${t.triggers&&t.triggers.length>0?`
- This is the triggers of the microagent: ${t.triggers.join(", ")}
`:"- Please be noted that the microagent doesn't have any triggers."}

- Step 2: Create a new branch for the repository ${e}, must avoid duplicated branches.

- Step 3: Please push the changes to your branch on ${ze(a)} and create a ${s}. Please create a meaningful branch name that describes the changes. If a ${s} template exists in the repository, please follow it when creating the ${n} description.
`,fr=(e,t,s,n,a)=>`Update the microagent for the repository ${e} by following the steps below:


- Step 1: Update the microagent. This is the path of the microagent: ${t.microagentPath} (The updated microagent must be in the .openhands/microagents folder and should be able to perform the described task when triggered).

- This is the updated instructions about what the microagent should do: ${t.query}

${t.triggers&&t.triggers.length>0?`
- This is the triggers of the microagent: ${t.triggers.join(", ")}
`:"- Please be noted that the microagent doesn't have any triggers."}

- Step 2: Create a new branch for the repository ${e}, must avoid duplicated branches.

- Step 3: Please push the changes to your branch on ${ze(a)} and create a ${s}. Please create a meaningful branch name that describes the changes. If a ${s} template exists in the repository, please follow it when creating the ${n} description.
`;function mr(){const[e,t]=x.useState(window.innerWidth),{addMicroagentModalVisible:s,updateMicroagentModalVisible:n,selectedRepository:a,learnThisRepoModalVisible:c}=G(g=>g.microagentManagement),i=ge(),{createConversationAndSubscribe:o,isPending:l}=Wi();function d(){t(window.innerWidth)}x.useEffect(()=>(window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}),[]);const u=(g=!1)=>{i(g?Ns(!1):Ms(!1))},h=Ee.useCallback(g=>{Fe.invalidateQueries({queryKey:["conversations","search",g,"microagent_management"]})},[]),f=Ee.useCallback(g=>{const p=a&&typeof a=="object"?a.full_name:"";ur(g)&&h(p)},[h,a]),b=(g,p=!1)=>{if(!a||typeof a!="object")return;const v=a,C=v.full_name,E=v.git_provider,R=E==="gitlab",_=Vn(R),S=Bn(R),B=p?fr(C,g,_,S,E):hr(C,g,_,S,E),V={repo:C,git_provider:E,title:g.query};o({query:B,conversationInstructions:B,repository:{name:C,branch:g.selectedBranch,gitProvider:E},createMicroagent:V,onSuccessCallback:()=>{h(C);const[K,k]=C.split("/");Fe.invalidateQueries({queryKey:["repository-microagents",K,k]}),u(p)},onEventCallback:K=>{f(K)}})},m=()=>{i(Es(!1))},y=g=>{if(!a||typeof a!="object")return;const p=a,v=p.full_name,C=p.git_provider;o({query:g.query,conversationInstructions:g.query,repository:{name:v,branch:g.selectedBranch,gitProvider:C},onSuccessCallback:()=>{m()}})},P=()=>r.jsxs(r.Fragment,{children:[(s||n)&&r.jsx(rr,{onConfirm:g=>b(g,n),onCancel:()=>u(n),isLoading:l,isUpdate:n}),c&&r.jsx(lr,{onCancel:m,onConfirm:y,isLoading:l})]});return e<1024?r.jsxs("div",{className:"w-full h-full flex flex-col gap-6",children:[r.jsx("div",{className:"w-full rounded-lg border border-[#525252] bg-[#24272E] max-h-[494px] min-h-[494px]",children:r.jsx(vs,{isSmallerScreen:!0})}),r.jsx("div",{className:"w-full rounded-lg border border-[#525252] bg-[#24272E] flex-1 min-h-[494px]",children:r.jsx(Cs,{})}),P()]}):r.jsxs("div",{className:"w-full h-full flex rounded-lg border border-[#525252] bg-[#24272E] overflow-hidden",children:[r.jsx(vs,{}),r.jsx("div",{className:"flex-1",children:r.jsx(Cs,{})}),P()]})}const hl=async()=>{let e=Fe.getQueryData(["config"]);return e||(e=await je.getConfig(),Fe.setQueryData(["config"],e)),null};function pr(){return r.jsx(Hi,{children:r.jsx(zi,{children:r.jsx(mr,{})})})}const fl=In(pr);export{hl as clientLoader,fl as default};
